language: cpp

git:
  depth: 1
  submodules: false

env:
  global:
    - BUILD_FILENAME="build-$TRAVIS_OS_NAME.$TRAVIS_BUILD_NUMBER-$(date '+%Y-%m-%d_%H_%M_%S').tgz"
    - MAKE_THREADS=4

jobs:
  include:

  - os: linux
    name: "Transifex push template Ubuntu 16.04 Xenial"
    if: branch = translations   # Job should run only on translations branch
    dist: xenial
    script: bash autobuild/transifex-push-translations.sh

  - os: linux
    name: "Translations validation Ubuntu 16.04 Xenial"
    if: branch = fix_1150       # Job should run only on translations branch
    dist: xenial
    script: bash autobuild/translations-validation.sh

  allow_failures:
  #  - env: CMAKE=true
  #  - os: osx
    - osx_image: xcode10
    - name: "Test render engine for regressions"
